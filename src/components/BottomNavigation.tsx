import React from "react";
import { useNavigate, useLocation } from "react-router-dom";
import { Home, ArrowUpDown, BookOpen, User, ChartPieIcon } from "lucide-react";

interface NavItem {
  id: string;
  label: string;
  path: string;
  icon: React.ReactNode;
}

const navItems: NavItem[] = [
  {
    id: "home",
    label: "Home",
    path: "/",
    icon: (<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
  <path d="M21 11.2493V20.2493C21 20.4482 20.921 20.639 20.7803 20.7796C20.6397 20.9203 20.4489 20.9993 20.25 20.9993H15C14.8011 20.9993 14.6103 20.9203 14.4697 20.7796C14.329 20.639 14.25 20.4482 14.25 20.2493V15.3743C14.25 15.2748 14.2105 15.1795 14.1402 15.1091C14.0698 15.0388 13.9745 14.9993 13.875 14.9993H10.125C10.0255 14.9993 9.93016 15.0388 9.85983 15.1091C9.78951 15.1795 9.75 15.2748 9.75 15.3743V20.2493C9.75 20.4482 9.67098 20.639 9.53033 20.7796C9.38968 20.9203 9.19891 20.9993 9 20.9993H3.75C3.55109 20.9993 3.36032 20.9203 3.21967 20.7796C3.07902 20.639 3 20.4482 3 20.2493V11.2493C3.00018 10.8516 3.15834 10.4702 3.43969 10.189L10.9397 2.68899C11.221 2.4079 11.6023 2.25 12 2.25C12.3977 2.25 12.779 2.4079 13.0603 2.68899L20.5603 10.189C20.8417 10.4702 20.9998 10.8516 21 11.2493Z" fill="currentColor"/>
</svg>),
  },
  {
    id: "transactions",
    label: "Transactions",
    path: "/transactions",
    icon: (<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
  <path d="M11.1929 16.2137C11.2498 16.3507 11.2647 16.5016 11.2358 16.6471C11.207 16.7926 11.1356 16.9263 11.0307 17.0312L8.03073 20.0312C7.96107 20.1009 7.87836 20.1563 7.78731 20.194C7.69626 20.2318 7.59866 20.2512 7.5001 20.2512C7.40154 20.2512 7.30395 20.2318 7.2129 20.194C7.12185 20.1563 7.03913 20.1009 6.96948 20.0312L3.96948 17.0312C3.86447 16.9263 3.79294 16.7926 3.76396 16.6471C3.73497 16.5015 3.74982 16.3506 3.80664 16.2135C3.86345 16.0764 3.95967 15.9592 4.08312 15.8768C4.20656 15.7944 4.35168 15.7505 4.5001 15.7506H6.7501V4.50059C6.7501 4.30168 6.82912 4.11091 6.96977 3.97026C7.11043 3.82961 7.30119 3.75059 7.5001 3.75059C7.69902 3.75059 7.88978 3.82961 8.03043 3.97026C8.17108 4.11091 8.2501 4.30168 8.2501 4.50059V15.7506H10.5001C10.6484 15.7506 10.7934 15.7946 10.9168 15.8771C11.0401 15.9595 11.1362 16.0767 11.1929 16.2137ZM20.0307 6.96996L17.0307 3.96997C16.9611 3.90023 16.8784 3.84491 16.7873 3.80717C16.6963 3.76943 16.5987 3.75 16.5001 3.75C16.4015 3.75 16.3039 3.76943 16.2129 3.80717C16.1219 3.84491 16.0391 3.90023 15.9695 3.96997L12.9695 6.96996C12.8645 7.07486 12.7929 7.20855 12.764 7.35411C12.735 7.49967 12.7498 7.65057 12.8066 7.78768C12.8635 7.9248 12.9597 8.04198 13.0831 8.12438C13.2066 8.20678 13.3517 8.25071 13.5001 8.25059H15.7501V19.5006C15.7501 19.6995 15.8291 19.8903 15.9698 20.0309C16.1104 20.1716 16.3012 20.2506 16.5001 20.2506C16.699 20.2506 16.8898 20.1716 17.0304 20.0309C17.1711 19.8903 17.2501 19.6995 17.2501 19.5006V8.25059H19.5001C19.6485 8.25071 19.7936 8.20678 19.9171 8.12438C20.0405 8.04198 20.1368 7.9248 20.1936 7.78768C20.2504 7.65057 20.2652 7.49967 20.2362 7.35411C20.2073 7.20855 20.1357 7.07486 20.0307 6.96996Z" fill="currentColor"/>
</svg>),
  },
  {
    id: "budgeting",
    label: "Insights",
    path: "/budgeting",
    icon: (<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
  <path d="M11.25 15.1819V21.3075C11.2504 21.3606 11.2394 21.4132 11.2179 21.4617C11.1965 21.5103 11.1649 21.5537 11.1254 21.5892C11.0859 21.6246 11.0393 21.6513 10.9887 21.6674C10.9381 21.6835 10.8846 21.6886 10.8319 21.6825C9.09886 21.4697 7.45447 20.7966 6.0696 19.7332C4.68473 18.6698 3.60992 17.255 2.95688 15.6356C2.93736 15.5864 2.92849 15.5336 2.93084 15.4807C2.9332 15.4278 2.94674 15.376 2.97057 15.3287C2.99439 15.2814 3.02796 15.2397 3.06907 15.2063C3.11018 15.1729 3.15789 15.1486 3.20907 15.135L9.12375 13.5469C9.19947 13.527 9.2795 13.5314 9.35264 13.5593C9.42577 13.5872 9.48834 13.6373 9.53157 13.7025C9.88969 14.2206 10.4007 14.6139 10.9931 14.8275C11.0677 14.8523 11.1325 14.8998 11.1786 14.9633C11.2247 15.0269 11.2497 15.1034 11.25 15.1819ZM12.0056 2.25002C11.9067 2.24928 11.8085 2.26813 11.7169 2.30549C11.6252 2.34285 11.5419 2.39797 11.4717 2.46769C11.4014 2.53741 11.3457 2.62034 11.3076 2.7117C11.2696 2.80307 11.25 2.90105 11.25 3.00002V8.25002C11.2485 8.44728 11.3254 8.63707 11.4637 8.7777C11.6021 8.91832 11.7906 8.99829 11.9878 9.00002C12.6961 8.99696 13.3827 9.24464 13.9259 9.69919C14.4692 10.1537 14.8341 10.7858 14.956 11.4836C15.0779 12.1814 14.949 12.8997 14.5921 13.5116C14.2352 14.1234 13.6733 14.5893 13.0059 14.8266C12.9314 14.8515 12.8666 14.8992 12.8207 14.963C12.7748 15.0268 12.7501 15.1033 12.75 15.1819V21.3075C12.7497 21.3605 12.7606 21.413 12.782 21.4615C12.8034 21.51 12.8349 21.5534 12.8743 21.5888C12.9137 21.6242 12.9602 21.6509 13.0107 21.6671C13.0612 21.6832 13.1145 21.6885 13.1672 21.6825C15.638 21.3903 17.9035 20.1646 19.5 18.2564C21.0965 16.3481 21.9031 13.9018 21.7546 11.4182C21.6062 8.9347 20.5139 6.60185 18.7015 4.8974C16.8891 3.19294 14.4936 2.24584 12.0056 2.25002ZM9.00563 11.7647C9.04053 11.3217 9.17342 10.892 9.39469 10.5066V10.5C9.46901 10.3717 9.5036 10.2242 9.49408 10.0761C9.48457 9.92812 9.43139 9.78625 9.34125 9.66846C9.2782 9.58743 9.19984 9.51959 9.11063 9.46877L4.57969 6.8494C4.49432 6.80017 4.40009 6.76825 4.30238 6.75546C4.20467 6.74267 4.10539 6.74926 4.01023 6.77486C3.91507 6.80046 3.82588 6.84456 3.74777 6.90464C3.66966 6.96472 3.60416 7.03961 3.555 7.12502C2.46386 9.0148 2.03741 11.2157 2.34375 13.3763C2.35098 13.429 2.36935 13.4796 2.39765 13.5247C2.42594 13.5698 2.4635 13.6083 2.50784 13.6377C2.55218 13.6672 2.60229 13.6869 2.65481 13.6954C2.70734 13.704 2.7611 13.7013 2.8125 13.6875L8.73938 12.0938C8.81283 12.0735 8.87821 12.031 8.92654 11.972C8.97488 11.9131 9.00381 11.8407 9.00938 11.7647H9.00563Z" fill="currentColor"/>
</svg>),
  },
  {
    id: "learn",
    label: "Content hub",
    path: "/learn",
    icon: (<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
  <path d="M22.5 5.25V18.75C22.5 18.9489 22.421 19.1397 22.2803 19.2803C22.1397 19.421 21.9489 19.5 21.75 19.5H15C14.4042 19.5 13.8328 19.7363 13.411 20.157C12.9892 20.5778 12.7515 21.1486 12.75 21.7444C12.753 21.8975 12.7085 22.0478 12.6225 22.1746C12.5365 22.3013 12.4134 22.3983 12.27 22.4522C12.1562 22.4961 12.0334 22.5116 11.9122 22.4973C11.791 22.483 11.6752 22.4394 11.5747 22.3702C11.4742 22.3011 11.3921 22.2084 11.3355 22.1003C11.279 21.9923 11.2496 21.872 11.25 21.75C11.25 21.1533 11.0129 20.581 10.591 20.159C10.169 19.7371 9.59674 19.5 9 19.5H2.25C2.05109 19.5 1.86032 19.421 1.71967 19.2803C1.57902 19.1397 1.5 18.9489 1.5 18.75V5.25C1.5 5.05109 1.57902 4.86032 1.71967 4.71967C1.86032 4.57902 2.05109 4.5 2.25 4.5H8.25C9.04565 4.5 9.80871 4.81607 10.3713 5.37868C10.9339 5.94129 11.25 6.70435 11.25 7.5V15.7247C11.2474 15.9182 11.3182 16.1056 11.4481 16.2491C11.578 16.3926 11.7575 16.4816 11.9503 16.4981C12.0529 16.5049 12.1558 16.4906 12.2526 16.456C12.3494 16.4213 12.4381 16.3672 12.5131 16.2968C12.5881 16.2265 12.6478 16.1415 12.6885 16.0471C12.7293 15.9527 12.7502 15.8509 12.75 15.7481V7.5C12.75 6.70435 13.0661 5.94129 13.6287 5.37868C14.1913 4.81607 14.9544 4.5 15.75 4.5H21.75C21.9489 4.5 22.1397 4.57902 22.2803 4.71967C22.421 4.86032 22.5 5.05109 22.5 5.25Z" fill="currentColor"/>
</svg>),
  },
  {
    id: "profile",
    label: "Profile",
    path: "/profile",
    icon: (<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
  <path d="M16.125 11.25C16.125 12.0658 15.8831 12.8634 15.4298 13.5417C14.9766 14.2201 14.3323 14.7488 13.5786 15.061C12.8248 15.3732 11.9954 15.4549 11.1953 15.2957C10.3951 15.1366 9.66008 14.7437 9.08319 14.1668C8.5063 13.5899 8.11343 12.8549 7.95427 12.0547C7.7951 11.2546 7.87679 10.4252 8.189 9.67143C8.50121 8.91769 9.02992 8.27345 9.70828 7.82019C10.3866 7.36693 11.1842 7.125 12 7.125C13.0936 7.12624 14.1421 7.56124 14.9154 8.33455C15.6888 9.10787 16.1238 10.1564 16.125 11.25ZM21.75 12C21.75 13.9284 21.1782 15.8134 20.1068 17.4168C19.0355 19.0202 17.5127 20.2699 15.7312 21.0078C13.9496 21.7458 11.9892 21.9389 10.0979 21.5627C8.20656 21.1865 6.46928 20.2579 5.10571 18.8943C3.74215 17.5307 2.81355 15.7934 2.43735 13.9021C2.06114 12.0108 2.25422 10.0504 2.99218 8.26884C3.73013 6.48726 4.97982 4.96451 6.58319 3.89317C8.18657 2.82183 10.0716 2.25 12 2.25C14.585 2.25273 17.0634 3.28084 18.8913 5.10872C20.7192 6.93661 21.7473 9.41498 21.75 12ZM20.25 12C20.2488 10.8896 20.0237 9.79077 19.5881 8.76934C19.1525 7.7479 18.5154 6.82481 17.7148 6.05525C16.9143 5.2857 15.9668 4.68549 14.929 4.29053C13.8911 3.89556 12.7843 3.71395 11.6747 3.75656C7.25907 3.92719 3.73782 7.605 3.75 12.0234C3.75424 14.0349 4.49609 15.9749 5.835 17.4759C6.38028 16.6851 7.07292 16.0068 7.875 15.4781C7.94339 15.433 8.02469 15.4114 8.10646 15.4169C8.18824 15.4223 8.26599 15.4543 8.32782 15.5081C9.34705 16.3897 10.6496 16.8749 11.9972 16.8749C13.3448 16.8749 14.6473 16.3897 15.6666 15.5081C15.7284 15.4543 15.8061 15.4223 15.8879 15.4169C15.9697 15.4114 16.051 15.433 16.1194 15.4781C16.9225 16.0065 17.6161 16.6848 18.1622 17.4759C19.5077 15.9694 20.251 14.0199 20.25 12Z" fill="currentColor"/>
</svg>),
  },
];

export const BottomNavigation: React.FC = () => {
  const navigate = useNavigate();
  const location = useLocation();

  const isActive = (path: string) => location.pathname === path;

  return (
    <nav className="items-center flex w-full text-sm font-normal whitespace-nowrap text-center leading-[1.2] bg-white dark:bg-black pt-2 pb-8 px-2 border-t border-[#E5E5EA] dark:border-[#2C2C2E] fixed bottom-0 left-0 right-0 z-50">
      {navItems.map((item) => (
        <button
          key={item.id}
          className={`self-stretch flex flex-col items-center flex-1 shrink basis-[0%] my-auto hover:opacity-80 transition-opacity ${
            isActive(item.path) ? "text-[#A488F5]" : "text-[#716860] dark:text-gray-400"
          }`}
          onClick={() => navigate(item.path)}
          aria-pressed={isActive(item.path)}
          disabled={item.id === "profile"}
        >
          <div className={isActive(item.path) ? "text-[#A488F5]" : "text-[#716860] dark:text-gray-400"}>
            {item.icon}
          </div>
          <span className={`mt-1 text-xs ${isActive(item.path) ? "text-[#A488F5]" : "text-[#716860] dark:text-gray-400"}`}>
            {item.label}
          </span>
        </button>
      ))}
    </nav>
  );
};
